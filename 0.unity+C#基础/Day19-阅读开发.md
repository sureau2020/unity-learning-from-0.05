# 阅读开发

又去双人成行了，还写了点学校作业。

## Unity Shader 入门精要

### 第四章杂记

- 对于矢量，我们使用小写的粗体字母来表示，如 a, b, u, v 等。
- 对于标量，我们使用小写字母来表示，如 a, b, x, y, z, θ, α 等。
- 矩阵，大写的粗体字母来表示，如 A, B, S, M, R 等
- 任何一个点都可以表示成一个从原点出发的矢量
- 被归一化的矢量（normalized vector，零矢量（即矢量的每个分量值都为 0，如 v=(0,0,0)）不可被归一
- 叉积不满足交换律，即 a×b≠b×a。实际上，叉积是满足反交换律的，即 a×b=-(b×a)。而且叉积也不满足结合律，即 (a×b) ×c≠a×(b×c)。
- 在右手坐标系中，a×b 的方向将使用右手法则来判断。我们先想象把手心放在了 a 和 b 的尾部交点处，然后张开你的手掌让手掌方向和 a 的方向重合，再弯曲你的四指让它们向 b 的方向靠拢，最后伸出你的大拇指！
- 正交是矩阵的一种属性。如果一个方阵 M 和它的转置矩阵的乘积是单位矩阵的话，我们就说这个矩阵是正交的（orthogonal）​。MM^T= M^TM=I
- 如果一个矩阵是正交的，那么它的转置矩阵和逆矩阵是一样的
- 正交矩阵:每个列向量都是单位向量（长度为 1）,每对向量之间都正交（点积为 0、三列两辆正交）
- 在 Unity 中，常规做法是把矢量放在矩阵的右侧，即把矢量转换成列矩阵来进行运算。因此，在本书后面的内容中，如无特殊情况，我们都将使用列矩阵。
- 线性变换除了包括旋转和缩放外，还包括错切（shear）​、镜像（mirroring，也被称为 reflection）​、正交投影（orthographic projection）等
- 线性变化满足条件：f(x)+f(y)=f(x+y)，kf(x)=f(kx)
- 仿射变换就是合并线性变换和平移变换（非线性）的变换类型，使用一个 4×4 的矩阵来表示，为此，我们需要把矢量扩展到四维空间下，这就是齐次坐标空间（homogeneous space）​。
- 4.1 常见变化种类表
- 齐次坐标是原矢量变化的，一个多一维的矢量
- 纯平移、纯旋转和纯缩放的变换矩阵叫做基础变换矩阵。解成 4 个组成部分。上角的矩阵 M3×3 用于表示旋转和缩放，t3×1 用于表示平移，01×3 是零矩阵，即 01×3=[0 0 0]​，右下角的元素就是标量 1
- 平移矩阵的逆矩阵就是反向平移得到的矩阵
- 如果缩放系数 kx=ky=kz，我们把这样的缩放称为统一缩放（uniform scale）​，否则称为非统一缩放（nonuniform scale）​。从外观上看，统一缩放是扩大整个模型，而非统一缩放会拉伸或挤压模型。更重要的是，统一缩放不会改变角度和比例信息，而非统一缩放会改变与模型相关的角度和比例。例如在对法线进行变换时，如果存在非统一缩放，直接使用用于变换顶点的变换矩阵的话，就会得到错误的结果。
- 缩放矩阵的逆矩阵是使用原缩放系数的倒数来对点或方向矢量进行缩放
- 旋转矩阵自己看图，是正交矩阵，而且多个旋转矩阵之间的串联同样是正交的。
- 复合变换可以通过矩阵的串联来实现。使用的是列矩阵，因此阅读顺序是从右到左
- <b>在绝大多数情况下，我们约定变换的顺序就是先缩放，再旋转，最后平移。</b>
- 当我们直接给出(θx,θy,θz)这样的旋转角度时，需要定义一个旋转顺序。在 Unity 中，这个旋转顺序是 z x y，这在旋转相关的 API 文档中都有说明。绕坐标系 E 下的 z 轴旋转 θz，绕坐标系 E 下的 y 轴旋转 θy，绕坐标系 E 下的 x 轴旋转 θx，即进行一次旋转时不一起旋转当前坐标系。
----
#### 4.6
- 对坐标空间的变换实际上就是在父空间和子空间之间对点和矢量进行变换。
- Ap=Oc+axc+byc+czc看划线的矩阵图父子坐标变化矩阵
- 一旦求出来Mc→p, Mp→c就可以通过求逆矩阵的方式求出来
- 矢量是没有位置的，因此坐标空间的原点变换是可以忽略，矢量是没有位置的，因此坐标空间的原点变换是可以忽略的。也就是说，我们仅仅平移坐标系的原点是不会对矢量造成任何影响的。那么，对矢量的坐标空间变换就可以使用3×3的矩阵来表示
- 有一种情况我们不需要求解逆矩阵就可以得到Mp→c
---
早睡，明天一定认真做人。